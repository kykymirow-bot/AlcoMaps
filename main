<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AlcoMaps üçª</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>üç∫ AlcoMaps</h1>
    <p id="user-info">–ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å...</p>

    <button id="find-btn">–ò—â—É –∫–æ–º–ø–∞–Ω–∏—é üçª</button>

    <div id="result"></div>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π JS-–∫–æ–¥ -->
  <script>
    const tg = window.Telegram.WebApp;
    tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const userInfo = document.getElementById("user-info");
    userInfo.innerText = `–ü—Ä–∏–≤–µ—Ç, ${tg.initDataUnsafe?.user?.first_name || "–≥–æ—Å—Ç—å"}!`;

    const findBtn = document.getElementById("find-btn");
    const result = document.getElementById("result");

    // –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ò—â—É –∫–æ–º–ø–∞–Ω–∏—é"
    findBtn.addEventListener("click", () => {
      findBtn.disabled = true;
      findBtn.innerText = "–ü–æ–∏—Å–∫ —Å–æ–±—É—Ç—ã–ª—å–Ω–∏–∫–æ–≤...";
      result.innerText = "";

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º MainButton Telegram
      tg.MainButton.setText("–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫");
      tg.MainButton.show();

      tg.MainButton.onClick(() => {
        tg.MainButton.hide();
        findBtn.disabled = false;
        findBtn.innerText = "–ò—â—É –∫–æ–º–ø–∞–Ω–∏—é üçª";
        result.innerText = "‚ùå –ü–æ–∏—Å–∫ –æ—Ç–º–µ–Ω—ë–Ω.";
      });

      // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏
      setTimeout(() => {
        result.innerText = "üçª –ù–∞–π–¥–µ–Ω–æ 3 —á–µ–ª–æ–≤–µ–∫–∞ —Ä—è–¥–æ–º, —Ö–æ—Ç—è—Ç –≤—ã–ø–∏—Ç—å!";
        findBtn.disabled = false;
        findBtn.innerText = "–ò—â—É –∫–æ–º–ø–∞–Ω–∏—é üçª";
        tg.MainButton.hide();
      }, 2500);
    });
  </script>
</body>
</html>
